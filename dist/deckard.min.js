!function(a){var b,c,d=function(a){return a.tagName?a:document.querySelectorAll(a)},e=Array.prototype.forEach,f=function(a,b){return e.call(a,b)},g=(Array.prototype.map,function(a,b,d){c.config.log_level>=a&&console[b].apply(console,d)});c=b={decks:[],constants:{LOG_DEBUG:4,LOG_INFO:3,LOG_WARN:2,LOG_ERROR:1}},c.config={transition:"slide",duration:400,ease:"linear",log_level:c.constants.LOG_INFO,key_list_next:[13,32,39,40],key_list_previous:[37,38],slide_zIndex_inactive:1,slide_zIndex_active:2,selectors:{holder:".deckard-holder",controls:".deckard-controls",previous:'*[data-deckard-navigation="previous"]',next:'*[data-deckard-navigation="next"]',navigation_items:'*[data-deckard-navigation="items"]',set:".deckard-slides",item:".deckard-slide"}},c.navigatePrevious=function(a){a.current>0&&c.showDeckIndex(a,a.current-1)},c.navigateNext=function(a){var b=a.slides.length;a.current<b-1&&c.showDeckIndex(a,a.current+1)},c.showDeckIndex=function(a,b){if(c.debug("D.showDeckIndex",a,b),b===a.current)return void c.debug("not showing index because we are already showing it");if(a.navigating)return void c.debug("not showing index because we are navigating");a.navigating=!0;{var d=null===a.current?1:b-a.current;c.getAnimationIn(a,b,d),c.getAnimationOut(a,b,d)}c.animateIn(a,b,d),null!==a.current&&c.animateOut(a,a.current,d),a.current=b},c.getTransitionNameForElement=function(a,b){var d,e=b.getAttribute("data-deckard-transition");return d=e?e:a.transition?a.transition:c.config.transition},c.getAnimationIn=function(a,b,d){var e=c.getTransition(a,b),f=c.getAnimationFromTransition(e,"in",d);return f},c.getAnimationOut=function(a,b,d){var e=c.getTransition(a,b),f=c.getAnimationFromTransition(e,"out",d);return f},c.getTransition=function(a,b){var d=a.slides.item(b),e=c.getTransitionNameForElement(a,d);return c.transitions[e]},c.getAnimationFromTransition=function(a,b,c){var d,e;return a.animInForward?(d=c>=0?a.animInForward:a.animInBackward,e=c>=0?a.animOutForward:a.animOutBackward):(d=a.animIn,e=a.animOut),"in"===b?d:e},c.animateIn=function(a,b,d){var e=a.slides.item(b);e.classList.add("active"),e.style.zIndex=c.config.slide_zIndex_active;var f=c.getAnimationIn(a,b,d),g=f(e),h=document.timeline.play(g);h.addEventListener("finish",function(){a.navigating=!1})},c.animateOut=function(a,b,d){var e=a.slides.item(b);e.style.zIndex=c.config.slide_zIndex_inactive;var f=c.getAnimationOut(a,b,d),g=f(e),h=document.timeline.play(g);h.addEventListener("finish",function(d){c.debug("finished animateSlideOut",d),a.slides.item(b).classList.remove("active")})},c.animations={},c.makeAnimation=function(a,b,d){return d||(d={}),d.duration||(d.duration=c.config.duration),d.easing||(d.easing="ease-in-out"),c.animations[a]=function(a){return new Animation(a,b,d)},c.animations[a]},c.makeAnimationGroup=function(a,b){return b=b.map(function(a){return c.animations[a]}),c.animations[a]=function(a){return new AnimationGroup(b.map(function(b){return b(a)}))},c.animations[a]},c.makeAnimationSequence=function(a,b){return c.animations[a]=function(a){return new AnimationSequence(b.map(function(b){return b(a)}))},c.animations[a]},c.makeAnimation("fadeIn",[{opacity:0},{opacity:1}]),c.makeAnimation("fadeOut",[{opacity:1},{opacity:0}]),c.makeAnimation("slideToLeft",[{transform:"translate(0, 0)"},{transform:"translate(-40px, 0)"}]),c.makeAnimation("slideFromLeft",[{transform:"translate(-40px, 0)"},{transform:"translate(0, 0)"}]),c.makeAnimation("slideToRight",[{transform:"translate(0, 0)"},{transform:"translate(40px, 0)"}]),c.makeAnimation("slideFromRight",[{transform:"translate(40px, 0)"},{transform:"translate(0, 0)"}]),c.makeAnimation("scaleUpToOne",[{transform:"scale(0.5, 0.5)"},{transform:"scale(1, 1)"}]),c.makeAnimation("scaleDownFromOne",[{transform:"scale(1, 1)"},{transform:"scale(0.5, 0.5)"}]),c.makeAnimation("scaleUpFromOne",[{transform:"scale(1, 1)"},{transform:"scale(1.5, 1.5)"}]),c.makeAnimation("scaleDownToOne",[{transform:"scale(1.5, 1.5)"},{transform:"scale(1, 1)"}]),c.makeAnimationGroup("fadeOutToLeft",["fadeOut","slideToLeft"]),c.makeAnimationGroup("fadeOutToRight",["fadeOut","slideToRight"]),c.makeAnimationGroup("fadeInFromLeft",["fadeIn","slideFromLeft"]),c.makeAnimationGroup("fadeInFromRight",["fadeIn","slideFromRight"]),c.makeAnimationGroup("fadeInAndDownToOne",["fadeIn","scaleDownToOne"]),c.makeAnimationGroup("fadeOutAndDownFromOne",["fadeOut","scaleDownFromOne"]),c.makeAnimationGroup("fadeInAndUpToOne",["fadeIn","scaleUpToOne"]),c.makeAnimationGroup("fadeOutAndUpFromOne",["fadeOut","scaleUpFromOne"]),c.transitions={},c.makeTransitions=function(a,b){c.transitions[a]=b},c.makeTransitions("slide",{animInForward:c.animations.fadeInFromRight,animOutForward:c.animations.fadeOutToLeft,animInBackward:c.animations.fadeInFromLeft,animOutBackward:c.animations.fadeOutToRight}),c.makeTransitions("fade",{animIn:c.animations.fadeIn,animOut:c.animations.fadeOut}),c.makeTransitions("fall",{animInForward:c.animations.fadeInAndDownToOne,animOutForward:c.animations.fadeOutAndDownFromOne,animInBackward:c.animations.fadeInAndUpToOne,animOutBackward:c.animations.fadeOutAndUpFromOne}),c.debug=function(){g(c.constants.LOG_DEBUG,"debug",arguments)},c.info=function(){g(c.constants.LOG_INFO,"info",arguments)},c.warn=function(){g(c.constants.LOG_WARN,"warn",arguments)},c.error=function(){g(c.constants.LOG_ERROR,"error",arguments)},c.setLogLevel=function(a){c.config.log_level=a},c.initDeckard=function(a){if(c.debug("D.init",a),a.Deckard){c.warn("Deckard config overrides are not currently implemented");var b;for(b in a.Deckard)c.config[b]=a.Deckard[b]}a.module&&a.module.exports?a.module.exports=c:a.define?a.define([],function(){return c}):a.Deckard=c},c.getClickContainer=function(a){return a.el},c.getRootContainer=function(){return a},c.getNavigationPrevious=function(a){return a.el.querySelector(c.config.selectors.previous)},c.getNavigationNext=function(a){return a.el.querySelector(c.config.selectors.next)},c.getNavigationItems=function(a){return a.el.querySelector(c.config.selectors.navigation_items)},c.getSlides=function(a){return a.el.querySelectorAll(c.config.selectors.item)},c.bindNavigationEvents=function(a){a.controls.next&&a.controls.next.addEventListener("click",function(b){c.navigateNext(a),b.preventDefault(),b.stopPropagation()},!1),a.controls.previous&&a.controls.previous.addEventListener("click",function(b){c.navigatePrevious(a),b.preventDefault(),b.stopPropagation()},!1),c.getClickContainer(a).addEventListener("click",function(){c.navigateNext(a)},!1),c.getRootContainer(a).addEventListener("keyup",function(b){var d=c.config.key_list_next,e=c.config.key_list_previous;-1!==d.indexOf(b.which)?c.navigateNext(a):-1!==e.indexOf(b.which)&&c.navigatePrevious(a)},!1)},c.initDeck=function(a){c.bindNavigationEvents(a),c.showDeckIndex(a,0)},c.init=function(){f(d(".deckard-holder"),function(a){var b={el:a,current:null,navigating:!1};b.animation=c.getTransitionNameForElement(b,a),b.controls={previous:c.getNavigationPrevious(b),next:c.getNavigationNext(b),items:c.getNavigationItems(b)},b.slides=c.getSlides(b),c.debug("adding deck",b),c.decks.push(b),c.initDeck(b)})},c.initDeckard(a)}(this);